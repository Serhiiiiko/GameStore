@model IEnumerable<Order>
@{
    ViewData["Title"] = "Результаты поиска";
}

<div class="gaming-library">
    <div class="col-lg-12">
        <div class="heading-section">
            <h4><em>Ваши</em> покупки</h4>
        </div>

        @if (!Model.Any())
        {
            <div class="alert alert-info">
                <p>Покупки не найдены. Возможно, вы совершали покупки с другого устройства или использовали другой email.</p>
            </div>
        }
        else
        {
            @foreach (var order in Model)
            {
                <div class="item">
                    <ul>
                        <li><img src="@(string.IsNullOrEmpty(order.Game?.ImageUrl) ? "/images/game-01.jpg" : order.Game.ImageUrl)" alt="@order.Game?.Title" class="templatemo-item"></li>
                        <li><h4>@order.Game?.Title</h4><span>@order.Game?.Genre</span></li>
                        <li><h4>Дата добавления</h4><span>@order.OrderDate.ToString("dd/MM/yyyy")</span></li>
                        <li><h4>Ключ</h4><span>@order.Key</span></li>
                        <li><h4>Статус</h4><span>@(order.IsCompleted ? "Завершено" : "В обработке")</span></li>
                        <li>
                            <div class="main-border-button @(order.IsCompleted ? "border-no-active" : "")">
                                <a href="#">@(order.IsCompleted ? "Загружено" : "Загрузить")</a>
                            </div>
                        </li>
                    </ul>
                </div>
            }
        }

        <div class="main-button mt-4">
            <a asp-controller="Games" asp-action="Index">Перейти в каталог</a>
        </div>
    </div>
</div>